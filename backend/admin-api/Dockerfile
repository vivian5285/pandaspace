# ğŸ”¥ ç”¨å®Œæ•´é•œåƒï¼
FROM node:18-alpine

WORKDIR /app

# å¤åˆ¶ package æ–‡ä»¶
COPY package*.json ./

# å®‰è£…ä¾èµ–
RUN npm install

# å¤åˆ¶æºä»£ç 
COPY . .

# ç»™ tsc æ·»åŠ æ‰§è¡Œæƒé™
RUN chmod +x ./node_modules/.bin/tsc

# ä½¿ç”¨å®Œæ•´è·¯å¾„è°ƒç”¨ tsc
RUN ./node_modules/.bin/tsc

# å¯åŠ¨å‘½ä»¤
CMD ["node", "dist/main.js"]
