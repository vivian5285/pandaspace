# ğŸ”¥ ç”¨å®Œæ•´é•œåƒï¼
FROM node:18

WORKDIR /app

# å…¨å±€å®‰è£…æœ€æ–°ç‰ˆæœ¬çš„ npm å’Œ typescript
RUN npm install -g npm@latest typescript@latest

# ç¡®ä¿æŒ‡å®šæ­£ç¡®çš„æºæ–‡ä»¶è·¯å¾„
COPY ["package.json", "package-lock.json*", "./"]

# å®‰è£…é¡¹ç›®ä¾èµ–ï¼Œæ·»åŠ  --no-audit å’Œ --no-fund æ¥å‡å°‘è­¦å‘Š
RUN npm install --no-audit --no-fund

# å¤åˆ¶æ‰€æœ‰æºä»£ç 
COPY . .

# ä½¿ç”¨å…¨å±€å®‰è£…çš„ tsc è¿›è¡Œç¼–è¯‘
RUN tsc

# å¯åŠ¨å‘½ä»¤
CMD ["npm", "start"]
